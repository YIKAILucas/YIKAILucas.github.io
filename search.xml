<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>设计模式之工厂模式 Factory Pattern</title>
      <link href="/mei-tian-yi-ge-she-ji-mo-shi-zhi-gong-han-mo-shi-factory-pattern/"/>
      <url>/mei-tian-yi-ge-she-ji-mo-shi-zhi-gong-han-mo-shi-factory-pattern/</url>
      
        <content type="html"><![CDATA[<h1 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h1><p>Lucas 开了一家兵工厂，这个工厂生产手枪，坦克，飞机<br>生产坦克的流程包括钣金，冲压一系列流程</p><h2 id="简单工厂模式-Simple-Factory-Pattern"><a href="#简单工厂模式-Simple-Factory-Pattern" class="headerlink" title="简单工厂模式 Simple Factory Pattern"></a>简单工厂模式 Simple Factory Pattern</h2><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> abc <span class="token keyword">import</span> ABCMeta<span class="token punctuation">,</span> abstractmethod<span class="token keyword">import</span> os<span class="token keyword">import</span> sys<span class="token keyword">class</span> <span class="token class-name">Factory</span><span class="token punctuation">:</span>    @staticmethod    <span class="token keyword">def</span> <span class="token function">create_weapon</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>        model_module <span class="token operator">=</span> __import__<span class="token punctuation">(</span><span class="token string">'FactoryPattern'</span><span class="token punctuation">)</span>        weapon <span class="token operator">=</span> getattr<span class="token punctuation">(</span>model_module<span class="token punctuation">,</span> cls<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'工厂创建了%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>weapon<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> weapon<span class="token keyword">class</span> <span class="token class-name">Weapon</span><span class="token punctuation">(</span>metaclass<span class="token operator">=</span>ABCMeta<span class="token punctuation">)</span><span class="token punctuation">:</span>    @abstractmethod    <span class="token keyword">def</span> <span class="token function">show_power</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span><span class="token keyword">class</span> <span class="token class-name">Gun</span><span class="token punctuation">(</span>Weapon<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">show_power</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是手枪，我可以单兵作战'</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Tank</span><span class="token punctuation">(</span>Weapon<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">show_power</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是坦克，我提供炮火支援'</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Helicopter</span><span class="token punctuation">(</span>Weapon<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">show_power</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是直升机，我提供空中侦察'</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    gun <span class="token operator">=</span> Factory<span class="token punctuation">.</span>create_weapon<span class="token punctuation">(</span>Gun<span class="token punctuation">)</span>    gun<span class="token punctuation">.</span>show_power<span class="token punctuation">(</span><span class="token punctuation">)</span>    tank <span class="token operator">=</span> Factory<span class="token punctuation">.</span>create_weapon<span class="token punctuation">(</span>Tank<span class="token punctuation">)</span>    tank<span class="token punctuation">.</span>show_power<span class="token punctuation">(</span><span class="token punctuation">)</span>    helicopter <span class="token operator">=</span> Factory<span class="token punctuation">.</span>create_weapon<span class="token punctuation">(</span>Helicopter<span class="token punctuation">)</span>    helicopter<span class="token punctuation">.</span>show_power<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>输出结果</p><pre class=" language-markdown"><code class="language-markdown">工厂创建了<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FactoryPattern.Gun</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x7ff0f0f27828</span><span class="token punctuation">&gt;</span></span>我是手枪，我可以单兵作战工厂创建了<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FactoryPattern.Tank</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x7ff0f0f27860</span><span class="token punctuation">&gt;</span></span>我是坦克，我提供炮火支援工厂创建了<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FactoryPattern.Helicopter</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x7ff0f0f27898</span><span class="token punctuation">&gt;</span></span>我是直升机，我提供空中侦察</code></pre><h2 id="工厂方法模式"><a href="#工厂方法模式" class="headerlink" title="工厂方法模式"></a>工厂方法模式</h2><p>兵工厂现在接到了海军订单，要新增一个航母产品，建造航母的流程和原有的坦克直升机完全不一样，原有工厂的 create 逻辑不满足航母建造的要求，这时候发明了工厂方法模式，在原有工厂类上添加一个抽象类，具体工厂生产逻辑由子工厂实现。这样不管生产航母还是潜艇，都满足了开闭原则</p><h3 id="多工厂的工厂方法模式"><a href="#多工厂的工厂方法模式" class="headerlink" title="多工厂的工厂方法模式"></a>多工厂的工厂方法模式</h3><p>在工厂方法模式的基础上添加多个工厂类，每个工厂类和产品实现一对一，<br>每个产品对应一个工厂，这样职责清晰，但是复杂度很高，每个扩展的时候都要考虑工厂类和产品类之间的关系，所以在复杂的应用中常常添加一个协调类，用来封装子工厂</p><h2 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h2><p>兵工厂现在又接到了海军陆战队的订单，现在的坦克，分成陆战常规版和海军陆战队专用版，海军陆战队的坦克需要实现抗腐蚀，高刚性，这时候工程师在原有的产品类上再添加一个抽象产品类，这就是抽象工厂模式</p><pre><code>from abc import ABCMeta, abstractmethodimport osimport sys'''抽象工厂模式'''class Factory:    @staticmethod    def create_weapon(cls):        model_module = __import__('AbstractFactory')        weapon = getattr(model_module, cls.__name__)()        print('工厂创建了%s' % (weapon))        return weaponclass Weapon(metaclass=ABCMeta):    @abstractmethod    def show_power(self):        passclass Tank(Weapon):    def show_power(self):        print('我是坦克，我提供炮火支援')    @abstractmethod    def show_painting(self):        passclass NavyTank(Tank):    def show_painting(self):        print('我是海军耐腐蚀涂装')class ArmyTank(Tank):    def show_painting(self):        print('我是陆军沙漠涂装')if __name__ == "__main__":    tank = Factory.create_weapon(ArmyTank)    tank.show_power()    tank.show_painting()    tank = Factory.create_weapon(NavyTank)    tank.show_power()    tank.show_painting()</code></pre><p>输出结果</p><pre class=" language-markdown"><code class="language-markdown">工厂创建了<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AbstractFactory.ArmyTank</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x7ff7b6733c50</span><span class="token punctuation">&gt;</span></span>我是坦克，我提供炮火支援我是陆军沙漠涂装工厂创建了<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AbstractFactory.NavyTank</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x7ff7b6733c88</span><span class="token punctuation">&gt;</span></span>我是坦克，我提供炮火支援我是海军耐腐蚀涂装</code></pre><p>抽象工厂是在工厂方法模式基础上在基础产品类上再封装一层，实现单一产品类的多级分类</p><p>抽象工厂模式适合横向扩展，不适合纵向扩展，如果再向下分级，模式会变得非常臃肿</p><h1 id="总结-Summary"><a href="#总结-Summary" class="headerlink" title="总结 Summary"></a>总结 Summary</h1><p>工厂模式是创造类模式，本质上就是为了把对象创建后的属性初始化等等操作封装在工厂类中，避免在业务代码中 new 完对象后，还要进行一大堆赋值等操作</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 设计模式 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 每天一个设计模式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>draft</title>
      <link href="/draft/"/>
      <url>/draft/</url>
      
        <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>LR逻辑斯蒂回归学习</title>
      <link href="/lr-luo-ji-si-di-hui-gui/"/>
      <url>/lr-luo-ji-si-di-hui-gui/</url>
      
        <content type="html"><![CDATA[<h1 id="逻辑斯蒂回归学习"><a href="#逻辑斯蒂回归学习" class="headerlink" title="逻辑斯蒂回归学习"></a>逻辑斯蒂回归学习</h1><h3 id="广义线性模型"><a href="#广义线性模型" class="headerlink" title="广义线性模型"></a>广义线性模型</h3><p>$$y = g^{-1} \bigl( w^Tx+b \bigr)$$</p><h3 id="logit-回归"><a href="#logit-回归" class="headerlink" title="logit 回归"></a>logit 回归</h3><p>$$\ln y= w^Tx+b$$</p><p>$$\ln \frac{y}{1-y}$$</p><p>将传统线性回归得到的实值$y = w^Tx+b$ 转换成 0/1 值</p><p>使用 sigmoid 函数$y=\frac{1}{1+e^{-z}}$进行转换<br>$$y=\frac{1}{1+e^{-\bigl( w^Tx+b \bigr)}}$$</p><p>所谓的对数几率回归就是让预测结果逼近$ln\frac{y}{1-y}$ , 即真实标记的对数几率<br>$y$是正例可能性，$1-y$是反例可能性<br>$\frac{y}{1-y}$就是正例的“相对可能性”：正例相对反例的概率</p><p>$$\frac{y}{1-y}= \frac{1}{1+e^{-z}} \cdot \frac{1+e^{-z}}{e^{-z}} =\frac{1}{e^{-z}}$$</p><p>$$\Rightarrow \ln\frac{y}{1-y} = \ln \frac{1}{e^{-z}}=\ln e^z=z$$</p><p>把$y$视为类后验概率$P(y=1|x)$，也就是正例的可能性<br>logit 回归就变成<br>$$\ln\frac{p(y=1|x)}{p(y=0|x)} = w^Tx+b$$</p><p>$$\Downarrow $$</p><p>$$p(y=1|x) = y=\frac{1}{1+e^{-\bigl( w^Tx+b \bigr)}} = \frac{1}{\frac{1+e^{w^Tx+b}}{e^{w^Tx+b}}}= \frac{e^{w^Tx+b}}{1+e^{w^Tx+b}} $$</p><p>$$p(y=0|x) = 1-y  = \frac{1}{1+e^{w^Tx+b}}$$</p><h3 id="极大似然法求解模型（Maximun-likelihood-estimation-MLE）"><a href="#极大似然法求解模型（Maximun-likelihood-estimation-MLE）" class="headerlink" title="极大似然法求解模型（Maximun likelihood estimation MLE）"></a>极大似然法求解模型（Maximun likelihood estimation MLE）</h3><p>通俗理解来说，就是利用已知的样本结果信息，反推最具有可能（最大概率）导致这些样本结果出现的模型参数值</p><p><a href="https://link.zhihu.com/?target=http%3A//blog.csdn.net/u011508640/article/details/72815981">下面对 MLE 的内容来自这个博客</a></p><p>对于这个函数： $p(x|\theta)$ 输入有两个：$x$表示某一个具体的数据； $\theta$表示模型的参数</p><p>如果 $\theta$ 是已知确定的， $x$是变量，这个函数叫做概率函数(probability function)，它描述对于不同的样本点 $x$ ，其出现概率是多少。</p><p>如果 $x$ 是已知确定的， $\theta$是变量，这个函数叫做似然函数(likelihood function), 它描述对于不同的模型参数，出现$x$这个样本点的概率是多少。<br><a href="https://www.matongxue.com/madocs/447.html" target="_blank" rel="noopener">MLE 极大似然估计参考</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 机器学习算法学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 机器学习 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LR逻辑斯蒂回归学习</title>
      <link href="/python-ji-he/"/>
      <url>/python-ji-he/</url>
      
        <content type="html"><![CDATA[<h2 id="列表List"><a href="#列表List" class="headerlink" title="列表List"></a>列表List</h2><h2 id="元祖Tuple"><a href="#元祖Tuple" class="headerlink" title="元祖Tuple"></a>元祖Tuple</h2><h2 id="字典Dict"><a href="#字典Dict" class="headerlink" title="字典Dict"></a>字典Dict</h2><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 机器学习算法学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 机器学习 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>404</title>
      <link href="/404.html"/>
      <url>/404.html</url>
      
        <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>about</title>
      <link href="/about/index.html"/>
      <url>/about/index.html</url>
      
        <content type="html"><![CDATA[<hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>categories</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>contact</title>
      <link href="/contact/index.html"/>
      <url>/contact/index.html</url>
      
        <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>tags</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
    </entry>
    
    
  
</search>
